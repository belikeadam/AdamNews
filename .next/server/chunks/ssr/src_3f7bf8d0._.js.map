{"version":3,"sources":["../../../../src/components/ui/Card.tsx","../../../../src/components/shared/ArchCallout.tsx","../../../../src/components/dashboard/MetricCard.tsx","../../../../src/components/dashboard/Chart.tsx","../../../../src/app/dashboard/analytics/page.tsx"],"sourcesContent":["import { cn } from '@/lib/utils'\r\n\r\ninterface CardProps {\r\n  children: React.ReactNode\r\n  className?: string\r\n  hover?: boolean\r\n}\r\n\r\nexport default function Card({ children, className, hover = false }: CardProps) {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'bg-[var(--bg)] border border-[var(--border)] rounded shadow-sm',\r\n        hover && 'transition-shadow duration-150 hover:shadow-md',\r\n        className\r\n      )}\r\n    >\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function CardHeader({\r\n  children,\r\n  className,\r\n}: {\r\n  children: React.ReactNode\r\n  className?: string\r\n}) {\r\n  return (\r\n    <div className={cn('px-5 py-4 border-b border-[var(--border)]', className)}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function CardContent({\r\n  children,\r\n  className,\r\n}: {\r\n  children: React.ReactNode\r\n  className?: string\r\n}) {\r\n  return <div className={cn('px-5 py-4', className)}>{children}</div>\r\n}\r\n","'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { cn } from '@/lib/utils'\r\n\r\ninterface ArchCalloutProps {\r\n  title?: string\r\n  apiCall?: string\r\n  caching?: string\r\n  auth?: string\r\n  rationale?: string\r\n  className?: string\r\n}\r\n\r\nexport default function ArchCallout({\r\n  title = 'How this works',\r\n  apiCall,\r\n  caching,\r\n  auth,\r\n  rationale,\r\n  className,\r\n}: ArchCalloutProps) {\r\n  const [open, setOpen] = useState(false)\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'border border-[var(--border)] rounded bg-[var(--surface)]',\r\n        className\r\n      )}\r\n    >\r\n      <button\r\n        onClick={() => setOpen(!open)}\r\n        className=\"flex items-center gap-2 w-full px-4 py-2.5 text-sm text-[var(--muted)] hover:text-[var(--text)] transition-colors h-11\"\r\n      >\r\n        <span className=\"text-base\">&#9432;</span>\r\n        <span className=\"font-medium\">{title}</span>\r\n        <span\r\n          className={cn(\r\n            'ml-auto transition-transform duration-150',\r\n            open && 'rotate-180'\r\n          )}\r\n        >\r\n          &#9662;\r\n        </span>\r\n      </button>\r\n\r\n      {open && (\r\n        <div className=\"px-4 pb-3 space-y-1.5 text-xs font-mono text-[var(--muted)]\">\r\n          {apiCall && (\r\n            <p>\r\n              <span className=\"text-[var(--accent)]\">API:</span> {apiCall}\r\n            </p>\r\n          )}\r\n          {caching && (\r\n            <p>\r\n              <span className=\"text-green-600 dark:text-green-400\">Cache:</span>{' '}\r\n              {caching}\r\n            </p>\r\n          )}\r\n          {auth && (\r\n            <p>\r\n              <span className=\"text-amber-600 dark:text-amber-400\">Auth:</span>{' '}\r\n              {auth}\r\n            </p>\r\n          )}\r\n          {rationale && (\r\n            <p className=\"text-[var(--muted)] italic\">{rationale}</p>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import Card, { CardContent } from '@/components/ui/Card'\r\nimport { cn } from '@/lib/utils'\r\n\r\ninterface MetricCardProps {\r\n  title: string\r\n  value: string\r\n  change?: string\r\n  trend?: 'up' | 'down' | 'neutral'\r\n  sparkline?: number[]\r\n}\r\n\r\nexport default function MetricCard({\r\n  title,\r\n  value,\r\n  change,\r\n  trend = 'neutral',\r\n  sparkline,\r\n}: MetricCardProps) {\r\n  return (\r\n    <Card>\r\n      <CardContent>\r\n        <p className=\"text-sm text-[var(--muted)] mb-1\">{title}</p>\r\n        <div className=\"flex items-end justify-between\">\r\n          <div>\r\n            <p className=\"text-2xl font-bold text-[var(--text)]\">{value}</p>\r\n            {change && (\r\n              <p\r\n                className={cn('text-xs font-medium mt-1', {\r\n                  'text-[var(--success)]': trend === 'up',\r\n                  'text-[var(--danger)]': trend === 'down',\r\n                  'text-[var(--muted)]': trend === 'neutral',\r\n                })}\r\n              >\r\n                {trend === 'up' && '\\u2191 '}\r\n                {trend === 'down' && '\\u2193 '}\r\n                {change}\r\n              </p>\r\n            )}\r\n          </div>\r\n          {sparkline && (\r\n            <div className=\"flex items-end gap-0.5 h-8\">\r\n              {sparkline.map((v, i) => (\r\n                <div\r\n                  key={i}\r\n                  className={cn(\r\n                    'w-1.5 rounded-sm',\r\n                    trend === 'up'\r\n                      ? 'bg-[var(--success)]'\r\n                      : trend === 'down'\r\n                        ? 'bg-[var(--danger)]'\r\n                        : 'bg-[var(--muted)]'\r\n                  )}\r\n                  style={{ height: `${(v / Math.max(...sparkline)) * 100}%` }}\r\n                />\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n","'use client'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\ninterface BarChartProps {\r\n  data: { label: string; value: number }[]\r\n  title?: string\r\n  horizontal?: boolean\r\n  color?: string\r\n}\r\n\r\nexport default function BarChart({\r\n  data,\r\n  title,\r\n  horizontal = false,\r\n  color = 'var(--accent)',\r\n}: BarChartProps) {\r\n  const maxValue = Math.max(...data.map((d) => d.value))\r\n\r\n  return (\r\n    <div>\r\n      {title && (\r\n        <h4 className=\"text-sm font-medium text-[var(--text)] mb-3\">\r\n          {title}\r\n        </h4>\r\n      )}\r\n\r\n      {horizontal ? (\r\n        <div className=\"space-y-2\">\r\n          {data.map((item) => (\r\n            <div key={item.label} className=\"flex items-center gap-3\">\r\n              <span className=\"text-xs text-[var(--muted)] w-20 text-right shrink-0\">\r\n                {item.label}\r\n              </span>\r\n              <div className=\"flex-1 h-6 bg-[var(--surface-2)] rounded overflow-hidden\">\r\n                <div\r\n                  className=\"h-full rounded transition-all duration-300\"\r\n                  style={{\r\n                    width: `${(item.value / maxValue) * 100}%`,\r\n                    backgroundColor: color,\r\n                  }}\r\n                />\r\n              </div>\r\n              <span className=\"text-xs text-[var(--muted)] w-12\">\r\n                {item.value.toLocaleString()}\r\n              </span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <div className=\"flex items-end gap-1.5 h-40\">\r\n          {data.map((item) => (\r\n            <div\r\n              key={item.label}\r\n              className=\"flex-1 flex flex-col items-center gap-1\"\r\n            >\r\n              <div\r\n                className={cn('w-full rounded-t transition-all duration-300')}\r\n                style={{\r\n                  height: `${(item.value / maxValue) * 100}%`,\r\n                  backgroundColor: color,\r\n                }}\r\n                title={`${item.label}: ${item.value}`}\r\n              />\r\n              <span className=\"text-[10px] text-[var(--muted)] truncate w-full text-center\">\r\n                {item.label}\r\n              </span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","'use client'\r\n\r\nimport MetricCard from '@/components/dashboard/MetricCard'\r\nimport BarChart from '@/components/dashboard/Chart'\r\nimport Card, { CardContent, CardHeader } from '@/components/ui/Card'\r\nimport ArchCallout from '@/components/shared/ArchCallout'\r\n\r\nconst TRAFFIC_SOURCES = [\r\n  { label: 'Organic', value: 4520 },\r\n  { label: 'Social', value: 2340 },\r\n  { label: 'Direct', value: 1890 },\r\n  { label: 'Referral', value: 980 },\r\n]\r\n\r\nconst GEO_DATA = [\r\n  { label: 'Malaysia', value: 3200 },\r\n  { label: 'Singapore', value: 1800 },\r\n  { label: 'Indonesia', value: 1200 },\r\n  { label: 'US', value: 890 },\r\n  { label: 'India', value: 650 },\r\n]\r\n\r\nexport default function AnalyticsPage() {\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h1 className=\"text-2xl font-bold text-[var(--text)]\">Analytics</h1>\r\n\r\n      <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        <MetricCard\r\n          title=\"Total Pageviews\"\r\n          value=\"24,580\"\r\n          change=\"+18% vs last month\"\r\n          trend=\"up\"\r\n          sparkline={[15000, 17200, 19800, 21000, 22500, 24000, 24580]}\r\n        />\r\n        <MetricCard\r\n          title=\"Unique Readers\"\r\n          value=\"8,432\"\r\n          change=\"+12% vs last month\"\r\n          trend=\"up\"\r\n          sparkline={[5800, 6200, 7000, 7400, 7800, 8100, 8432]}\r\n        />\r\n        <MetricCard\r\n          title=\"Avg Time on Page\"\r\n          value=\"3m 42s\"\r\n          change=\"+8% vs last month\"\r\n          trend=\"up\"\r\n        />\r\n        <MetricCard\r\n          title=\"Scroll Depth\"\r\n          value=\"72%\"\r\n          change=\"+3% vs last month\"\r\n          trend=\"up\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"grid lg:grid-cols-2 gap-6\">\r\n        <Card>\r\n          <CardHeader>\r\n            <h2 className=\"font-semibold text-[var(--text)]\">\r\n              Traffic by Source\r\n            </h2>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <BarChart data={TRAFFIC_SOURCES} horizontal />\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader>\r\n            <h2 className=\"font-semibold text-[var(--text)]\">\r\n              Audience Geography\r\n            </h2>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <BarChart data={GEO_DATA} horizontal color=\"var(--success)\" />\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      <p className=\"text-xs text-[var(--muted)] text-center\">\r\n        GA4 + Chartbeat integration &middot; Real-time data\r\n      </p>\r\n\r\n      <ArchCallout\r\n        apiCall=\"Google Analytics 4 API + Vercel Web Analytics\"\r\n        caching=\"Client-side fetching, no server cache\"\r\n        auth=\"Admin dashboard â€” requires authenticated admin session\"\r\n        rationale=\"Analytics data is real-time and user-specific. CSR is appropriate here.\"\r\n      />\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}